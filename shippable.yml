language: java
jdk: openjdk9

branches:
  only:
    - master

env:
  global:
    - BALLERINA_VERSION=0.975.0
    - DISTRIBUTION_NAME=ballerina-platform-$BALLERINA_VERSION

pre-ci:
  - pushd $HOME
  - wget https://product-dist.ballerina.io/downloads/$BALLERINA_VERSION/$DISTRIBUTION_NAME.zip
  - unzip $DISTRIBUTION_NAME.zip
  - export PATH=$PATH:$HOME/$DISTRIBUTION_NAME/bin
  - popd


build:
  ci:
    - ballerina version
    - ballerina build 
    - ballerina test

integrations:

  notifications:
    - integrationName: email
      type: email
      on_success: change
      on_failure: always
      on_pull_request: never


